<?php
session_start(); 
// ------------------ Logout ËôïÁêÜÔºàÊñ∞Â¢ûÔºâ ------------------
if (isset($_POST["logout"])) {
    session_unset();
    session_destroy();
    header("Location: " . $_SERVER["PHP_SELF"]);
    exit;
}

// ------------------ Login ËôïÁêÜ ------------------
$login_message = "";

if (isset($_POST["login"])) {
    $acc = trim($_POST["acc"] ?? "");
    $pwd = trim($_POST["pwd"] ?? "");

    // Âè™Ë¶ÅÊúâËº∏ÂÖ•Â∏≥ËôüÂØÜÁ¢ºÂ∞±ÁôªÂÖ•ÊàêÂäü
    if ($acc !== "" && $pwd !== "") {
        $_SESSION["logged_in"] = true;   // ‚Üê„ÄêÊñ∞Â¢û„Äë
        $_SESSION["user"] = $acc;        // ‚Üê„ÄêÊñ∞Â¢ûÔºàÂèØÈÅ∏Ôºâ„Äë
        $login_message = "Login successful! Welcome, $acc üòä";
    } else {
        $login_message = "Please enter both account and password ‚ùå";
    }
}



?>
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Kirby Caf√©</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- W3CSS & Fonts -->
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- ‰Ω†ÂéüÊú¨ÁöÑÂ§ñÈÉ®Ê™î -->
  <link rel="stylesheet" href="newstyle.css">
  <script src="myscript.js" defer></script>

  <style>
    /* Lightbox ËÉåÊôØ */
    .lightbox {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    /* Â§ßÂúñ */
    .lightbox img {
      max-width: 90%;
      max-height: 85%;
      border-radius: 12px;
      box-shadow: 0 6px 25px rgba(0,0,0,0.4);
      animation: popIn 0.25s ease-out;
    }

    /* ÈóúÈñâÊåâÈàï */
    .lightbox .close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 40px;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }

    /* ÊºÇ‰∫ÆÂΩàÂá∫ÂãïÁï´ */
    @keyframes popIn {
      0% { transform: scale(0.7); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    body,h1,h2,h3,h4,h5,h6,.w3-wide {
      font-family: 'Baloo 2', cursive;
    }
    body {
      background: #FFF0F5;
    }
    /* ËÆìË≥ºÁâ©ËªäÂæÄÂ∑¶ÁßªÔºå‰∏çÂΩ±ÈüøÊêúÂ∞ã icon */
    .cart-wrapper {
      display: inline-block;
      margin-right: 20px;  
    }

/* Â∞èËû¢ÂπïÔºöÂÖ©ÂºµÂç°Áâá‰∏ÄÊéí */
@media (max-width: 600px) {

/* ÂÖßÂÆπË≤ºÈΩäÂ∑¶ÈÇäÔºåsidebar Êî∂Ëµ∑‰æÜÊôÇ‰∏çÁïôÁ©∫ÁôΩ */
.w3-main {
  margin-left: 0 !important;
}

/* ‰∏ÄÊï¥ÊéíË£ùÊâÄÊúâÂç°ÁâáÔºåÁî® flex ÊéíÂÖ©Ê¨Ñ */
.w3-row-padding {
  display: flex !important;
  flex-wrap: wrap !important;
  margin: 0 -4px !important;   /* Â∑¶Âè≥Â∞èÂ∞èÁ©∫Èöô */
}

/* ÊØè‰∏ÄÂÄã .w3-col ËÆäÊàê 50% ÂØ¨ ‚Üí ‰∏ÄÊéíÂÖ©Âºµ */
.w3-row-padding > .w3-col {
  float: none !important;
  width: 50% !important;
  box-sizing: border-box;
  padding: 8px 4px !important; /* Âç°Áâá‰πãÈñìË∑ùÈõ¢ */
  max-width: 50% !important;
  display: block !important;
}

/* Âç°ÁâáËá™Â∑±ÊíêÊªøÊ¨Ñ‰ΩçÈ´òÂ∫¶ */
.w3-row-padding .w3-container {
  height: 100%;
  margin-bottom: 0 !important;
}
}

    .w3-sidebar {
      background-color: #FFDEE9;
    }
    .w3-sidebar a {
      font-family: 'Baloo 2', cursive;
      color: #FF6F61;
    }
    .w3-sidebar a:hover {
      color: #FFB347;
    }
    .w3-main header p {
      color: #FF69B4;
      font-weight: bold;
    }
    .w3-row-padding .w3-container img {
      border-radius: 15px;
      border: 3px solid #FFD700;
      width: 100%;
      height: 230px;
      object-fit: cover;
      display: block;
      margin-bottom: 10px;
    }
  
#maincourse .w3-col,
#dessert .w3-col,
#beverage .w3-col {
  display: flex;
}
    .w3-row-padding .w3-container {
      text-align: center;
      margin-bottom: 24px;
      background-color: #FFEAF2;
      border-radius: 18px;
      padding: 16px 10px 18px;

      /* Âç°ÁâáÊíêÊªøÊï¥Ê¨ÑÈ´òÂ∫¶ */
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
    }

    /* Áµ±‰∏ÄÊñáÂ≠óÂçÄÈ´òÂ∫¶ÔºåËÆì Add to Cart ÊåâÈàïÂ∞çÈΩä */
    .w3-row-padding .w3-container p {
      color: #FF4500;
      font-weight: bold;
      font-size: 16px;
      margin: 8px 0 10px;
      min-height: 3.8em;
    }

    /* ËÆì Add to Cart Ë¢´Êé®Âà∞Âç°ÁâáÂ∫ïÈÉ® */
    .w3-row-padding .w3-container .add-btn {
      margin-top: auto;
    }

    .subscribe-section {
      background-color: #FFE4B5;
      border-radius: 15px;
      padding: 32px;
      text-align: center;
      color: #FF4500;
      margin-top: 24px;
    }
    .subscribe-section input {
      width: 80%;
      padding: 12px;
      border-radius: 10px;
      border: 2px solid #FFB347;
      font-family: 'Baloo 2', cursive;
    }

    footer {
      background-color: #FFDEAD;
      border-top: 4px dashed #FF69B4;
      color: #8B0000;
    }
    footer a {
      color: #FF4500;
      text-decoration: none;
    }
    footer a:hover {
      color: #FF69B4;
    }
    footer h4 {
      font-weight: bold;
      margin-top: 16px;
      margin-bottom: 12px;
    }
    footer p {
      margin-bottom: 8px;
    }
    footer .w3-input,
    footer .w3-button {
      border-radius: 0;
    }
    footer .w3-large {
      margin-right: 5px;
      cursor: pointer;
    }

    button {
      border:none;
      border-radius:12px;
      padding:8px 16px;
      font-family:'Baloo 2', cursive;
      font-weight:bold;
      cursor:pointer;
      transition:0.3s;
    }
    button:hover {
      transform:scale(1.05);
    }
    button.add-btn {
      background: linear-gradient(45deg, #FF9AA2, #a9dae7);
      color:white;
    }
    button.cancel-btn,
    button.confirm-btn {
      background: linear-gradient(45deg, #FF6B6B, #a8d5f2);
      color:white;
    }

    #noteModal, #cartModal, #checkoutModal {
      box-sizing:border-box;
    }
    #noteModal {
  border:3px solid #bbe8f9;
  background:#fdfdfd;
  padding:30px;
  border-radius:20px;
  display:none;
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  z-index:1200;  /* Ë™øÈ´òÔºåËÆì noteModal ËìãÂú® cartModal ÂâçÈù¢ */
}

    #noteModal textarea {
      border-radius:12px;
      border:2px solid #FFB347;
      padding:10px;
      width:100%;
    }

    #cartModal {
      border:3px solid #FFB347;
      background:#FFF0F5;
      border-radius:20px;
      padding:15px;
      display:none;
      position:fixed;
      top:50%;
      left:50%;
      transform:translate(-50%, -50%);
      width:90%;
      max-width:500px;
      z-index:1000;
    }
    /* Cart Modal Â∫ïÈÉ®ÊåâÈàïÊéíÁâà */
    .cart-actions {
      margin-top: 10px;
      display: flex;
      gap: 10px;
      justify-content: flex-end;
      flex-wrap: wrap;
    }

    .cart-actions button {
      min-width: 120px;
    }

    /* Checkout ÁöÑÊåâÈàï‰πü‰∏ÄËµ∑ÂæÆË™ø */
    .checkout-buttons {
      display: flex;
      gap: 10px;
      padding: 15px 20px;
      background: #FFF0F5;
      border-radius: 0 0 17px 17px;
      position: sticky;
      bottom: 0;
    }

    .checkout-buttons button {
      flex: 1;
      padding: 12px;
      font-size: 15px;
      border-radius: 10px;
    }

    #checkoutModal {
      border:3px solid #FFB347;
      background:#FFF7FB;
      border-radius:20px;
      padding:0;
      display:none;
      position:fixed;
      top:50%;
      left:50%;
      transform:translate(-50%, -50%);
      width:90%;
      max-width:550px;
      max-height:85vh;
      overflow-y:auto;
      z-index:1100;
      box-shadow: 0 10px 40px rgba(255, 179, 71, 0.3);
    }

    .checkout-header {
      background: linear-gradient(135deg, #FF9AA2, #FFB347);
      padding: 18px 20px;
      border-radius: 17px 17px 0 0;
      color: white;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 1;
    }
    .checkout-header h3 {
      margin: 0;
      font-size: 24px;
    }
    .checkout-content {
      padding: 20px;
    }
    .checkout-section {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px dashed #FFD4EA;
    }
    .checkout-section:last-child {
      border-bottom: none;
    }
    .checkout-section h4 {
      color: #FF4500;
      margin: 0 0 12px 0;
      font-size: 16px;
    }
    #checkoutItemsList {
      max-height: 200px;
      overflow-y: auto;
    }
    .checkout-item {
      background: #FFE4B5;
      padding: 10px 12px;
      border-radius: 10px;
      margin-bottom: 8px;
      border: 2px solid #FFD4A3;
      display: flex;
      justify-content: space-between;
      gap: 8px;
    }
    .checkout-item-main {
      flex: 1;
    }
    .checkout-item-name {
      font-weight: bold;
      color: #8B4513;
      font-size: 15px;
      margin-bottom: 4px;
    }
    .checkout-item-details {
      font-size: 13px;
      color: #666;
      margin-bottom: 2px;
    }
    .item-options, .item-note {
      font-size: 12px;
      color: #888;
      margin-top: 2px;
    }
    .checkout-item-price {
      text-align: right;
      font-weight: bold;
      color: #FF4500;
      font-size: 15px;
      white-space: nowrap;
    }
    .price-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      font-size: 15px;
      color: #333;
    }
    .total-row {
      border-top: 2px solid #FFB347;
      margin-top: 8px;
      padding-top: 12px;
      font-size: 18px;
      font-weight: bold;
      color: #FF4500;
    }
    .payment-methods {
      display: flex;
      gap: 12px;
    }
    .payment-option {
      flex: 1;
      cursor: pointer;
    }
    .payment-option input[type="radio"] {
      display: none;
    }
    .payment-card {
      border: 3px solid #FFD4A3;
      border-radius: 12px;
      padding: 16px;
      text-align: center;
      background: white;
      transition: all 0.3s;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }
    .payment-card i {
      font-size: 28px;
      color: #FFB347;
    }
    .payment-card span {
      font-size: 14px;
      font-weight: bold;
      color: #8B4513;
    }
    .payment-option input[type="radio"]:checked + .payment-card {
      border-color: #FF9AA2;
      background: linear-gradient(135deg, #FFF0F5, #FFE4E1);
      box-shadow: 0 4px 12px rgba(255, 154, 162, 0.4);
      transform: scale(1.05);
    }

    /* Cart */
    #cartList div.cart-item {
      border:2px dashed #FFB347;
      border-radius:12px;
      padding:8px;
      margin-bottom:8px;
      background:#FFE4B5;
      display:flex;
      align-items:center;
    }
    #cartList img {
      border-radius:12px;
      border:2px solid #FFB347;
      width:60px;
      height:60px;
      object-fit:cover;
      margin-right:10px;
    }
    .cart-wrapper {
      position: relative;
      display: inline-block;
    }

    #cartCountBadge {
      position: absolute;
      top: -6px;
      right: -16px;
      background:#FF6B81;
      color:white;
      font-weight:bold;
      font-size:11px;
      padding:2px 5px;
      border-radius:50%;
      border:2px solid white;
    }

    #cartIcon,
    .w3-container .fa-search {
      cursor: pointer;
    }
    #cartIcon:hover, 
    #searchIcon:hover {
      transform: scale(1.3);
      transition: transform 0.3s ease;
    }
    #cartList .cart-item-info {
      flex: 1;
      margin-left: 10px;
      color: #222;
      font-weight: 500;
    }
    #cartList .cart-item-controls {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-left: auto;
    }
    #cartList .qty-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: 2px solid #FFB347;
      background: linear-gradient(135deg, #FFE4B5, #FFD700);
      color: #8B4513;
      font-size: 18px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
      padding: 0;
    }
    #cartList .qty-btn:hover {
      background: linear-gradient(135deg, #FFD700, #FFA500);
      transform: scale(1.1);
      box-shadow: 0 2px 8px rgba(255, 140, 0, 0.4);
    }
    #cartList .qty-btn:active {
      transform: scale(0.95);
    }
    #cartList .qty-display {
      min-width: 24px;
      text-align: center;
      font-weight: bold;
      color: #8B4513;
      font-size: 15px;
    }
    #cartList .remove-btn {
      align-self: center;
      margin-left: 8px;
      background: none;
      border: none;
      color: #ff4b5c;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
      transition: transform 0.2s, color 0.2s;
      padding: 4px 8px;
    }
    #cartList .remove-btn:hover {
      color: #ff0000;
      transform: scale(1.1);
    }

    /* Greeting */
    /* Greeting Âç°ÁâáÔºöÈÖçÂêàÊï¥È´îÁ≤âËâ≤Á≥ª„ÄÅÂúìËßí„ÄÅÈô∞ÂΩ± */
#greeting {
  position: fixed;
  left: 50%;
  top: 80px;
  transform: translateX(-50%);
  padding: 32px 28px 26px;
  max-width: 480px;
  text-align: center;
  border-radius: 24px;
  border: 3px solid #FFB347;
  background: linear-gradient(135deg, #FFF0F5, #FFE4E1);
  box-shadow: 0 14px 35px rgba(255, 154, 162, 0.5);
  animation: popgreeting 0.7s ease-out;
  z-index: 9000;
}

/* Â§ßÊ®ôÔºöË∑ü Hero / Kirby È¢®Ê†º‰∏ÄÊ®£ÂèØÊÑõÈ£ΩÊªø */
#greeting1 {
  font-size: 32px;
  color: #FF4F7B;
  margin: 4px 0 6px;
  letter-spacing: 1px;
}

/* Â∞èÊ®ôÔºöÁî®ËºÉÂ∞èÂ≠óÔºãÊ¨°Ë¶ÅËâ≤ */
#welcome {
  font-size: 20px;
  color: #8B4513;
  margin: 0 0 18px;
}

/* Enter ÊåâÈàïÂè™ÁïôÈñìË∑ùÔºåÊ®£ÂºèÁî® .confirm-btn Êàñ .add-btn */
#enter {
  margin-top: 4px;
  margin-bottom: 4px;
  font-size: 18px;
}

    @keyframes popgreeting{
      from{opacity:0;}
      to{opacity:1;}
    }

    /* Card flip */
    .menu-card {
      position:relative;
      width:100%;
      height:230px;
      perspective:1000px;
      margin-bottom:10px;
    }
    .menu-card-inner {
      position:relative;
      width:100%;
      height:230px;
      transform-style:preserve-3d;
      transition:transform 0.6s;
    }
    .menu-card.flipped .menu-card-inner {
      transform:rotateY(180deg);
    }
    .card-front, .card-back {
      position:absolute;
      width:100%;
      height:100%;
      backface-visibility:hidden;
      border-radius:15px;
      overflow:hidden;
    }
    .card-front img {
      border-radius:15px;
      border:3px solid #FFD700;
      width:100%;
      height:230px;
      object-fit:cover;
    }
    .card-back {
      transform:rotateY(180deg);
      display:flex;
      justify-content:center;
      align-items:center;
      padding:10px;
      box-sizing:border-box;
      border:3px solid #FFD700;
      background:#ffbdde;
      cursor: pointer;
      text-align:center;
      color:#8B0000;
      font-size:15px;
    }

    /* Hover Ë¶ÜËìãÂ±§ÔºöÊèêÁ§∫ÂèØ‰ª•Èªû */
    .hover-card {
      position:absolute;
      top:0;
      left:0;
      width:100%;
      height:100%;
      background:rgba(215, 174, 195, 0.9);
      display:flex;
      justify-content:center;
      align-items:center;
      opacity:0;
      transition:opacity 0.3s;
      border-radius:15px;
      color:white;
      font-size:20px;
      font-weight:bold;
      pointer-events: none;
    }
    .card-front:hover .hover-card {
      opacity:1;
    }

    /* Â∞èÂ∞èÁøªÈù¢ÊèêÁ§∫Ë≤ºÁ¥ô */
    .flip-hint {
      position: absolute;
      bottom: 8px;
      right: 8px;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.9);
      color: #ff4f7b;
      font-size: 11px;
      font-weight: 600;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
      pointer-events: none;
      animation: flipHintPulse 1.4s ease-in-out infinite alternate;
    }

    .flip-hint i {
      font-size: 13px;
    }

    .menu-card:hover .flip-hint {
      background: #ffedf4;
      color: #ff2b6c;
    }

    @keyframes flipHintPulse {
      0% {
        transform: translateY(0);
        opacity: 0.7;
      }
      100% {
        transform: translateY(-2px);
        opacity: 1;
      }
    }

    @media (max-width: 600px) {
      .flip-hint {
        font-size: 10px;
        padding: 3px 6px;
      }
    }

    /* ÁøªÈù¢ÊåâÈàï */
    .flip-btn {
      margin-top: 6px;
      margin-bottom: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      border: none;
      background: linear-gradient(45deg, #FFB6C1, #FFD700);
      color: #8B0000;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }
    .flip-btn i {
      font-size: 14px;
    }
    .flip-btn:hover {
      transform: translateY(-1px) scale(1.03);
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    }

    /* Progress bar */
    .progress-container {
      position:fixed;
      bottom:0;
      left:0;
      right:0;
      background:white;
      box-shadow:0 -4px 10px rgba(0,0,0,0.1);
      z-index:500;
    }
    .progress-bar {
      display:flex;
      justify-content:space-around;
      align-items:center;
      max-width:800px;
      margin:0 auto;
      position:relative;
      padding:8px 12px;
    }
    .progress-step {
      display:flex;
      flex-direction:column;
      align-items:center;
      flex:1;
      position:relative;
      z-index:2;
    }
    .rocket-icon {
      font-size:40px;
      color:#ccc;
      transition:all 0.5s;
    }
    .rocket-icon.active {
      color:#FF6B81;
      transform:scale(1.3);
    }
    .rocket-icon.completed {
      color:#4CAF50;
    }
    .step-label {
      font-size:14px;
      font-weight:bold;
      color:#666;
    }
    .step-label.active {
      color:#FF6B81;
    }
    .step-label.completed {
      color:#4CAF50;
    }
    .progress-line {
      position:absolute;
      top:26px;
      left:10%;
      right:10%;
      height:4px;
      background:#ddd;
      z-index:1;
    }
    .progress-line-fill {
      height:100%;
      background:linear-gradient(90deg,#FF6B81,#4CAF50);
      width:0%;
      transition:width 0.5s;
    }

    /* Back to Top */
    #backToTop {
      position: fixed;
      bottom: 80px;
      right: 20px;
      z-index: 99;
      background: linear-gradient(135deg, #FF9AA2, #FFB347);
      color: white;
      border: 3px solid #FFD700;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      font-size: 24px;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 107, 129, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #backToTop.show {
      opacity: 1;
      visibility: visible;
    }
    #backToTop:hover {
      transform: translateY(-5px) scale(1.1);
      box-shadow: 0 6px 20px rgba(255, 107, 129, 0.6);
      background: linear-gradient(135deg, #FFB347, #FF9AA2);
    }
    #backToTop:active {
      transform: translateY(0) scale(0.95);
    }
    @media (max-width: 600px) {
      #backToTop {
        bottom: 90px;
        right: 15px;
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
    }

    /* Hero Title */
    #heroTitle {
      white-space: nowrap !important;
      word-break: keep-all;
      max-width: 100%;
      font-size: clamp(20px, 4vw, 40px);
    }
    @media (max-width: 1024px) {
      #heroTitle {
        font-size: clamp(20px, 4vw, 40px);
      }
    }

    /* üéÆ Game intro styles (ÂéüÊú¨ÁöÑ‰øùÁïô) */
    #gameIntro {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at 10% 0%, #ffe4f8 0, transparent 55%),
                  radial-gradient(circle at 90% 100%, #ffe5c4 0, transparent 55%),
                  radial-gradient(circle at 50% 100%, #c9f1ff 0, transparent 45%),
                  #ffbad1;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      z-index: 10000;
      font-family: 'Baloo 2', cursive;
    }

    /* Ëß∏ÊéßÊéßÂà∂ÊåâÈàïÔºöÈ†êË®≠Âú®Â§ßËû¢ÂπïÈö±Ëóè */
    .gi-touch-controls {
      display: none;
      margin-top: 8px;
      justify-content: center;
      gap: 14px;
    }

    .gi-touch-btn {
      border-radius: 999px;
      padding: 10px 22px;
      font-size: 20px;
      border: none;
      cursor: pointer;
      background: linear-gradient(135deg,#ff7ba5,#ffb347);
      color: #fff;
      box-shadow: 0 6px 14px rgba(255,118,159,0.8);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .gi-touch-btn:active {
      transform: scale(0.95);
      box-shadow: 0 3px 8px rgba(255,118,159,0.5);
    }

    /* üì± Â∞èËû¢ÂπïÊôÇÈ°ØÁ§∫Ëß∏ÊéßÊåâÈàï */
    @media (max-width: 768px) {
      .gi-touch-controls {
        display: flex;
      }
    }

    /* ÊâãÊ©üÁâà START ÊåâÈàïÔºàÂè™Âú®Â∞èËû¢ÂπïÂá∫ÁèæÔºâ */
    .gi-start-mobile {
      display: none;
      margin-top: 8px;
      align-self: center;
    }
    @media (max-width: 768px) {
      .gi-start-mobile {
        display: inline-flex;
      }
    }

    .gi-bg {
      position: absolute;
      inset: -60px;
      background:
        radial-gradient(circle at 15% 25%, #ffffff 0, transparent 60%),
        radial-gradient(circle at 85% 70%, #fff7e5 0, transparent 60%),
        linear-gradient(135deg, rgba(255,255,255,0.5), transparent 40%);
      opacity: 0;
      animation: giBgIn 0.8s ease-out forwards;
    }
    .gi-deco {
      position: absolute;
      border-radius: 999px;
      opacity: 0.4;
      mix-blend-mode: screen;
    }
    .gi-deco-1 {
      width: 280px;
      height: 280px;
      background: radial-gradient(circle, #ff9aa2, transparent 60%);
      top: -40px;
      left: -60px;
    }
    .gi-deco-2 {
      width: 220px;
      height: 220px;
      background: radial-gradient(circle, #ffdf6b, transparent 60%);
      bottom: -40px;
      right: -40px;
    }
    .gi-deco-3 {
      width: 220px;
      height: 220px;
      background: radial-gradient(circle, #a6e3ff, transparent 60%);
      bottom: 20%;
      left: 60%;
    }
    .gi-frame {
      position: relative;
      width: min(960px, 94%);
      max-height: 520px;
      padding: 22px 22px 20px;
      border-radius: 28px;
      background: linear-gradient(135deg, #fff9ff, #ffeef6);
      box-shadow: 0 20px 50px rgba(255, 106, 149, 0.55);
      border: 3px solid rgba(255, 255, 255, 0.9);
      overflow: hidden;
    }
    .gi-topbar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:12px;
      color:#ff4f7b;
    }
    .gi-chip {
      padding:6px 14px;
      border-radius:999px;
      background:linear-gradient(135deg,#ffb9d9,#ffe6f4);
      color:#7b2640;
      font-size:14px;
      box-shadow:0 5px 12px rgba(255,143,186,0.7);
      border:2px solid #ffe5f0;
    }
    .gi-top-status{
      display:flex;
      align-items:baseline;
      gap:6px;
    }
    .gi-top-label{
      font-size:13px;
      opacity:0.7;
    }
    .gi-top-value{
      font-size:15px;
    }
    .gi-layout{
      display:flex;
      gap:18px;
    }
    .gi-playwrapper{
      flex:1.2;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    #giPlayfield{
      position:relative;
      width:100%;
      height:260px;
      border-radius:22px;
      overflow:hidden;
      background:linear-gradient(180deg,#ffeefb,#ffe0f0 40%,#ffd3e8 65%,#ffe9c7 75%,#ffc76f 100%);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.9),
                  0 10px 20px rgba(255, 148, 177, 0.6);
    }
    .gi-parallax{
      position:absolute;
      inset:0;
      opacity:0.5;
      pointer-events:none;
    }
    .gi-parallax-back{
      background-image:
        radial-gradient(circle at 15% 20%, rgba(255,255,255,0.9) 0, transparent 60%),
        radial-gradient(circle at 80% 30%, rgba(255,255,255,0.8) 0, transparent 55%),
        radial-gradient(circle at 50% 0%, rgba(255,255,255,0.8) 0, transparent 55%);
      animation: giParaBack 18s linear infinite;
    }
    .gi-parallax-mid{
      background-image:
        radial-gradient(circle, rgba(255,255,255,0.6) 2px, transparent 2px);
      background-size: 26px 26px;
      opacity:0.4;
      animation: giParaMid 10s linear infinite;
    }
    .gi-ground{
      position:absolute;
      left:-30px;
      right:-30px;
      bottom:16px;
      height:38px;
      border-radius:40px;
      background:linear-gradient(180deg,#ffe4c0,#ffc46c);
      box-shadow:0 10px 20px rgba(255,173,91,0.7);
    }
    .gi-ground::before{
      content:"";
      position:absolute;
      inset:8px 18px;
      border-radius:999px;
      background-image:linear-gradient(90deg,rgba(255,255,255,0.85) 16px,transparent 16px,transparent 30px);
      background-size:32px 100%;
      opacity:0.85;
      animation: giTrackMove 2s linear infinite;
    }
    .gi-logo-ghost{
      position:absolute;
      top:14px;
      left:50%;
      transform:translateX(-50%);
      font-size:26px;
      color:rgba(255,255,255,0.8);
      text-shadow:0 0 10px rgba(255,104,167,0.7);
      letter-spacing:2px;
      pointer-events:none;
    }
    #giPlayer{
      position:absolute;
      bottom:36px;
      left:50%;
      transform:translateX(-50%);
      width:60px;
      height:60px;
      pointer-events:none;
    }
    .gi-player-glow{
      position:absolute;
      inset:6px;
      border-radius:18px;
      background:radial-gradient(circle,#fff7d6 0,#ffc76f 50%,transparent 70%);
      opacity:0.8;
      filter:blur(5px);
    }
    .gi-player-body{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:32px;
      background:#fff9f3;
      border-radius:18px;
      border:3px solid #ffb36c;
      box-shadow:0 6px 14px rgba(255,159,92,0.9);
    }
    .gi-hud{
      display:flex;
      align-items:center;
      gap:10px;
      margin-top:8px;
    }
    .gi-hud-item{
      background:#fff9ff;
      border-radius:999px;
      padding:6px 10px;
      border:2px solid #ffd2eb;
      box-shadow:0 3px 8px rgba(255,184,211,0.7);
      display:flex;
      flex-direction:column;
    }
    .gi-hud-label{
      font-size:11px;
      opacity:0.7;
    }
    .gi-hud-value{
      font-size:14px;
      color:#ff4f7b;
    }
    .gi-hud-bar{
      flex:1;
      height:12px;
      border-radius:999px;
      background:rgba(255,255,255,0.85);
      box-shadow:0 4px 10px rgba(255,153,177,0.7);
      overflow:hidden;
    }
    #giProgressFill{
      height:100%;
      width:0%;
      border-radius:999px;
      background:linear-gradient(90deg,#ff9aa2,#ffb347,#a6e3ff);
      transition:width 0.25s ease-out;
    }
    .gi-sidebar{
      flex:0.9;
      padding:10px 6px 0 4px;
      color:#7b2640;
    }
    .gi-title{
      margin:0 0 8px;
    }
    .gi-title-top{
      font-size:16px;
      opacity:0.8;
    }
    .gi-title-main{
      font-size:26px;
      display:block;
      color:#ff4f7b;
      text-shadow:0 0 12px rgba(255,255,255,0.9);
    }
    .gi-desc{
      font-size:14px;
      line-height:1.4;
      margin-bottom:8px;
    }
    .gi-key{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:2px 6px;
      margin:0 1px;
      border-radius:5px;
      background:#fff;
      border:1px solid #ffcadd;
      font-size:12px;
      box-shadow:0 2px 4px rgba(255,164,196,0.7);
    }
    .gi-list{
      padding-left:18px;
      margin:0 0 14px;
      font-size:13px;
      line-height:1.5;
    }
    .gi-buttons{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .gi-btn{
      border-radius:999px;
      padding:7px 14px;
      font-size:13px;
      border:none;
      cursor:pointer;
      transition:transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }
    .gi-btn-primary{
      background:linear-gradient(135deg,#ff7ba5,#ffb347);
      color:#fff;
      box-shadow:0 6px 14px rgba(255,118,159,0.8);
    }
    .gi-btn-primary:hover{
      transform:translateY(-1px) scale(1.03);
      box-shadow:0 8px 18px rgba(255,118,159,0.9);
    }
    .gi-btn-ghost{
      background:rgba(255,255,255,0.9);
      color:#ff4f7b;
      border:2px solid #ffd4ea;
      box-shadow:0 4px 10px rgba(255,176,205,0.7);
    }
    .gi-btn-ghost:hover{
      transform:translateY(-1px);
    }
    .gi-food{
      position:absolute;
      width:40px;
      height:40px;
      border-radius:14px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:24px;
      background:#fffdf8;
      border:3px solid #ffd973;
      box-shadow:0 6px 12px rgba(255,217,115,0.9);
    }
    .gi-food-pop{
      animation: giFoodPop 0.2s ease forwards;
    }
    #giClearOverlay,
    #giFailOverlay{
      position:absolute;
      inset:0;
      display:flex;
      justify-content:center;
      align-items:center;
      pointer-events:none;
      opacity:0;
      transition:opacity 0.35s ease;
    }
    #giClearOverlay.gi-show,
    #giFailOverlay.gi-show{
      opacity:1;
      pointer-events:auto;
    }
    .gi-clear-card{
      min-width:260px;
      padding:16px 20px;
      border-radius:20px;
      background:rgba(255,252,255,0.98);
      border:2px solid #ffe0f1;
      box-shadow:0 10px 26px rgba(255,125,169,0.7);
      text-align:center;
    }
    .gi-clear-chip{
      display:inline-block;
      padding:4px 12px;
      border-radius:999px;
      background:linear-gradient(135deg,#ffb347,#ff9aa2);
      color:#fff;
      font-size:13px;
      margin-bottom:6px;
    }
    .gi-fail-chip{
      background:linear-gradient(135deg,#ff7b7b,#ffb347);
    }
    .gi-clear-logo{
      font-size:26px;
      color:#ff4f7b;
      margin-bottom:4px;
    }
    .gi-clear-text{
      font-size:14px;
      color:#7b2640;
    }
    #cartList .edit-note-btn {
  background: none;
  border: none;
  color: #ff9a00;
  font-weight: bold;
  font-size: 14px;
  cursor: pointer;
  padding: 4px 8px;
}
#cartList .edit-note-btn:hover {
  color: #ff6b00;
  transform: scale(1.05);
}

    #gameIntro.gi-fadeout{
      animation: giIntroFade 0.7s ease forwards;
    }
    @keyframes giBgIn{
      from{opacity:0; transform:scale(1.05);}
      to{opacity:1; transform:scale(1);}
    }
    @keyframes giParaBack{
      0%{transform:translateX(0);}
      100%{transform:translateX(-30px);}
    }
    @keyframes giParaMid{
      0%{transform:translateX(0);}
      100%{transform:translateX(-60px);}
    }
    @keyframes giTrackMove{
      0%{background-position-x:0;}
      100%{background-position-x:-32px;}
    }
    @keyframes giFoodPop{
      0%{transform:scale(1); opacity:1;}
      100%{transform:scale(0.2); opacity:0;}
    }
    @keyframes giIntroFade{
      0%{opacity:1;}
      100%{opacity:0; visibility:hidden;}
    }

    @media (max-width: 820px){
      .gi-layout{
        flex-direction:column;
      }
      .gi-sidebar{
        padding-top:2px;
      }
    }
    @media (max-width: 600px){
      .gi-frame{
        padding:16px 14px;
      }
      #giPlayfield{
        height:230px;
      }
      .gi-logo-ghost{
        font-size:22px;
      }
    }

    /* üì± Â∞èËû¢ÂπïÊôÇÔºöÊï¥ÂÄã gameIntro ÂèØ‰ª•Êç≤ÂãïÔºåÈÅøÂÖç START Ë¢´ÂêÉÊéâ */
    @media (max-width: 768px) {
      #gameIntro {
        align-items: flex-start;
        padding-top: 20px;
        overflow-y: auto;
      }
      .gi-frame {
        max-height: none;
      }
    }

    /* üì± ÊúÄÂ∞èËû¢ÂπïÂ∞∫ÂØ∏ÔºàÊâãÊ©üÔºâÊôÇÁöÑÂ∞çË©±Ê°Ü RWD Ë™øÊï¥ */
    @media (max-width: 480px) {
      #noteModal,
      #cartModal,
      #checkoutModal {
        width: 92%;
        padding: 16px;
        max-width: 480px;
      }

      #noteModal h3,
      #cartModal h3,
      .checkout-header h3 {
        font-size: 18px;
      }

      #noteModal,
      #noteModal label,
      #noteModal textarea,
      #cartModal,
      #cartModal .cart-item-info,
      #checkoutModal,
      .checkout-section h4,
      .checkout-item-name,
      .checkout-item-details,
      .item-options,
      .item-note,
      .price-row,
      .total-row {
        font-size: 13px;
      }

      button.add-btn,
      button.cancel-btn,
      button.confirm-btn {
        font-size: 13px;
        padding: 8px 10px;
      }

      .cart-actions {
        justify-content: space-between;
      }
      .cart-actions button {
        flex: 1 1 0;
        min-width: auto;
      }

      .checkout-buttons {
        gap: 8px;
        padding: 12px 14px;
      }
      .checkout-buttons button {
        font-size: 13px;
        padding: 10px 8px;
      }

      #cartList div.cart-item {
        padding: 6px;
      }
      #cartList img {
        width: 48px;
        height: 48px;
        margin-right: 8px;
      }
      #cartList .qty-btn {
        width: 24px;
        height: 24px;
        font-size: 16px;
      }
      #cartList .qty-display {
        font-size: 13px;
      }
    }
  </style>
</head>

<body class="w3-content" style="max-width:1200px">

  <!-- üéÆ INTERACTIVE GAME INTRO -->
  <div id="gameIntro">
    <div class="gi-bg"></div>
    <div class="gi-deco gi-deco-1"></div>
    <div class="gi-deco gi-deco-2"></div>
    <div class="gi-deco gi-deco-3"></div>

    <div class="gi-frame">
      <div class="gi-topbar">
        <div class="gi-chip">Kirby Caf√© Quest</div>
        <div class="gi-top-status">
          <span class="gi-top-label">LEVEL</span>
          <span class="gi-top-value">1 ¬∑ WELCOME</span>
        </div>
      </div>

      <div class="gi-layout">
        <!-- ÈÅäÊà≤ÂçÄ -->
        <div class="gi-playwrapper">
          <div id="giPlayfield">
            <div class="gi-parallax gi-parallax-back"></div>
            <div class="gi-parallax gi-parallax-mid"></div>
            <div class="gi-ground"></div>
            <div class="gi-logo-ghost">Restaurant</div>
            <div id="giPlayer">
              <div class="gi-player-glow"></div>
              <div class="gi-player-body">üçî</div>
            </div>
          </div>

          <!-- ÂàÜÊï∏ÔºãÊôÇÈñì -->
          <div class="gi-hud">
            <div class="gi-hud-item">
              <span class="gi-hud-label">SCORE</span>
              <span id="giScoreText" class="gi-hud-value">0 / 8</span>
            </div>
            <div class="gi-hud-item">
              <span class="gi-hud-label">TIME</span>
              <span id="giTimeText" class="gi-hud-value">20s</span>
            </div>
            <div class="gi-hud-bar">
              <div id="giProgressFill"></div>
            </div>
          </div>
        </div>

        <!-- üì± Â∞èËû¢ÂπïÁî®Ëß∏ÊéßÊéßÂà∂ -->
        <div class="gi-touch-controls">
          <button id="giLeftBtn" class="gi-touch-btn">‚óÄ</button>
          <button id="giRightBtn" class="gi-touch-btn">‚ñ∂</button>
        </div>

        <!-- üì± Â∞èËû¢ÂπïÂ∞àÁî® START ÊåâÈàï -->
        <button id="giStartBtnMobile" class="gi-btn gi-btn-primary gi-start-mobile">
          START
        </button>

        <!-- Ë™™ÊòéÂçÄ -->
        <div class="gi-sidebar">
          <h2 class="gi-title">
            <span class="gi-title-top">Welcome to</span>
            <span class="gi-title-main">Our Restaurant!</span>
          </h2>
          <p class="gi-desc">
            Use <span class="gi-key">‚óÄ</span><span class="gi-key">‚ñ∂</span> or
            <span class="gi-key">A</span><span class="gi-key">D</span> to move the burger.
            Catch the falling foods to fill the gauge!
          </p>
          <ul class="gi-list">
            <li>üçï Catch cute foods to power up the logo</li>
            <li>üåà More colors, more sparkles, more fun</li>
            <li>‚ú® When gauge is full, the logo jumps to the center</li>
          </ul>
          <div class="gi-buttons">
            <button id="giStartBtn" class="gi-btn gi-btn-primary">START GAME</button>
            <button id="giSkipBtn" class="gi-btn gi-btn-ghost">SKIP INTRO</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ÈÅéÈóú -->
    <div id="giClearOverlay">
      <div class="gi-clear-card">
        <div class="gi-clear-chip">LEVEL 1 CLEAR</div>
        <div class="gi-clear-logo">Restaurant</div>
        <p class="gi-clear-text">Loading your lovely menu...</p>
      </div>
    </div>

    <!-- Â§±Êïó -->
    <div id="giFailOverlay">
      <div class="gi-clear-card">
        <div class="gi-clear-chip gi-fail-chip">TIME UP</div>
        <p class="gi-clear-text">Oops! Try catching more foods!</p>
        <button id="giRetryBtn" class="gi-btn gi-btn-primary">PLAY AGAIN</button>
        <button id="giFailSkipBtn" class="gi-btn gi-btn-ghost">SKIP INTRO</button>
      </div>
    </div>
  </div>
  <!-- üéÆ END GAME INTRO -->

  <!-- Greeting -->
  <div id="greeting">
    <h1 id="greeting1">Good Morning!</h1>
    <h2 id="welcome">Welcome to our restaurant!</h2>
    <button id="enter" class="confirm-btn">Enter</button>
  </div>

  <!-- Sidebar -->
  <nav class="w3-sidebar w3-bar-block w3-white w3-collapse w3-top"
       style="z-index:3;width:250px" id="mySidebar">
    <div class="w3-container w3-display-container w3-padding-16">
      <i onclick="w3_close()"
         class="fa fa-remove w3-hide-large w3-button w3-display-topright"></i>
      <h3 class="w3-wide"><b>Kirby Caf√©</b></h3>
    </div>

    <!-- Login Box -->
    <div class="w3-container w3-padding-small"
       style="background:#fff;border-radius:10px;border:2px solid #ccc;margin:10px;">

      <?php if (empty($_SESSION["logged_in"])): ?>

  <!-- Login FormÔºàÊú™ÁôªÂÖ•ÊâçÈ°ØÁ§∫Ôºâ -->
  <form id="loginForm" method="post">
    <label>Account:</label>
    <input class="w3-input w3-border" type="text" name="acc" id="accInput">

    <label>Password:</label>
    <input class="w3-input w3-border" type="password" name="pwd" id="pwdInput">

    <button class="w3-button w3-pink w3-margin-top" type="submit" name="login">
      Login
    </button>
  </form>

  <p id="loginMsg" style="font-weight:bold;margin-top:10px;"></p>

<?php else: ?>

  <!-- Â∑≤ÁôªÂÖ•Áï´Èù¢ -->
  <p style="font-weight:bold;color:green;">
    Welcome, <?php echo htmlspecialchars($_SESSION["user"]); ?> üëã
  </p>

  <form method="post">
    <button class="w3-button w3-gray w3-margin-top" type="submit" name="logout">
      Logout
    </button>
  </form>

<?php endif; ?>

    </div>

    <!-- Login Box end -->

    <div class="w3-padding-64 w3-large w3-text-grey" style="font-weight:bold">
      <a onclick="myAccFunc()" href="javascript:void(0)"
         class="w3-button w3-block w3-white w3-left-align" id="myBtn">
        Menu <i class="fa fa-caret-down"></i>
      </a>
      <div id="demoAcc" class="w3-bar-block w3-hide w3-padding-large w3-medium">
        <a href="#maincourse" class="w3-bar-item w3-button w3-light-grey">
          <i class="fa fa-caret-right w3-margin-right"></i>Main course
        </a>
        <a href="#dessert" class="w3-bar-item w3-button">Dessert</a>
        <a href="#beverage" class="w3-bar-item w3-button">Beverage</a>
        <a href="#" class="w3-bar-item w3-button">Straight</a>
      </div>
    </div>
    <a href="#footer" class="w3-bar-item w3-button w3-padding">Contact</a>
    <a href="#maincourse" class="w3-bar-item w3-button">üçñMain course</a>
    <a href="#dessert" class="w3-bar-item w3-button">üç∞Dessert</a>
    <a href="#beverage" class="w3-bar-item w3-button">ü•§Beverage</a>
  </nav>

  <!-- Top bar (mobile) -->
  <header class="w3-bar w3-top w3-hide-large w3-black w3-xlarge">
    <div class="w3-bar-item w3-padding-24 w3-wide">LOGO</div>
    <a href="javascript:void(0)"
       class="w3-bar-item w3-button w3-padding-24 w3-right"
       onclick="w3_open()"><i class="fa fa-bars"></i></a>
  </header>

  <!-- Overlay effect when opening sidebar on small screens -->
  <div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer"
       title="close side menu" id="myOverlay"></div>

  <!-- Main content -->
  <div class="w3-main" style="margin-left:250px">
    <div class="w3-hide-large" style="margin-top:83px"></div>

    <!-- Header -->
    <header class="w3-container w3-xlarge">
      <p class="w3-left">Foods</p>
      <p class="w3-right">
        <span class="cart-wrapper">
          <i class="fa fa-shopping-cart" id="cartIcon"></i>
          <span id="cartCountBadge">0</span>
        </span>
        <i class="fa fa-search" id="searchIcon"></i>
      </p>
    </header>

    <!-- Hero -->
    <div class="w3-display-container w3-container">
      <img src="./22.jpg" alt="Foods"
       style="width:100%;height:400px;object-fit:cover;border-radius:20px;">
    </div>

    <div class="w3-container w3-text-grey">
      <p>20 items</p>
    </div>

    <!-- Main course -->
    <section class="w3-row-padding" id="maincourse">
      <!-- 1 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./1.jpg" alt="" class="zoomable" data-img="./1.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                This pasta is a little spicy and very yummy! The chicken dances with tasty sauce. üå∂Ô∏èüíÉ
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Mexican spicy and Tangy Chicken Pasta<br><b>$330</b></p>
          <button class="add-btn"
                  data-name="Mexican spicy and Tangy Chicken Pasta"
                  data-price="330"
                  data-img="./1.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 2 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./5.jpg" alt="" class="zoomable" data-img="./5.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Smoky rice with soft pork ‚Äî it smells so good! üî•üçö
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Charcoal-Grilled Pork Tongue Rice<br><b>$185</b></p>
          <button class="add-btn"
                  data-name="Charcoal-Grilled Pork Tongue Rice"
                  data-price="185"
                  data-img="./5.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 3 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./8.jpg" alt="" class="zoomable" data-img="./8.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Eggs and fish on toast! So soft and creamy. üç≥üê†
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Amazing Eggs Benedict-Seared Fish<br><b>$480</b></p>
          <button class="add-btn"
                  data-name="Amazing Eggs Benedict-Seared Fish"
                  data-price="480"
                  data-img="./8.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 4 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./9.jpg" alt="" class="zoomable" data-img="./9.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Crunchy nuts and sweet chicken ‚Äî a happy bite every time! ü•¢
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Kung Pao Chicken With Cashews<br><b>$258</b></p>
          <button class="add-btn"
                  data-name="Kung Pao Chicken With Cashews"
                  data-price="258"
                  data-img="./9.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 5 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./7.jpg" alt="" class="zoomable" data-img="./7.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                So much cheese! It‚Äôs melty, stretchy, and super fun! üßÄüòã
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Cheese Monopoly Pizza<br><br><b>$230</b></p>
          <button class="add-btn"
                  data-name="Cheese Monopoly Pizza"
                  data-price="230"
                  data-img="./7.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 6 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./6.jpg" alt="" class="zoomable" data-img="./6.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Soft chicken and yummy rice ‚Äî warm and cozy! üçöüíõ
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Hainanese Chicken Rice<br><br><b>$110</b></p>
          <button class="add-btn"
                  data-name="Hainanese Chicken Rice"
                  data-price="110"
                  data-img="./6.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 7 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./4.jpg" alt="" class="zoomable" data-img="./4.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Noodles, shrimp, and peanuts ‚Äî what a tasty mix! üç§üçú
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Padyhai Gung Yang<br><br><b>$280</b></p>
          <button class="add-btn"
                  data-name="Padyhai Gung Yang"
                  data-price="280"
                  data-img="./4.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 8 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./2.jpg" alt="" class="zoomable" data-img="./2.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                A little sour, a little spicy ‚Äî and full of fun! üçãüî•
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Thai Spicy and Sour Noodles<br><b>$200</b></p>
          <button class="add-btn"
                  data-name="Thai Spicy and Sour Noodles"
                  data-price="200"
                  data-img="./2.jpg">Add to Cart</button>
        </div>
      </div>
    </section>

    <!-- Dessert -->
    <section class="w3-row-padding" id="dessert">
      <!-- 9 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./10.jpg" alt="" class="zoomable" data-img="./10.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Sweet purple taro in creamy milk ‚Äî soft and happy! üíúü•õ
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Taro Sago With Coconut Milk<br><b>$100</b></p>
          <button class="add-btn"
                  data-name="Taro Sago With Coconut Milk"
                  data-price="100"
                  data-img="./10.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 10 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./11.jpg" alt="" class="zoomable" data-img="./11.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Crunch on top, soft inside ‚Äî like magic sugar! ‚ú®
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Cream Brulee<br><br><b>$110</b></p>
          <button class="add-btn"
                  data-name="Cream Brulee"
                  data-price="110"
                  data-img="./11.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 11 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./12.jpg" alt="" class="zoomable" data-img="./12.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                A little burnt, a lot yummy! üßÄüî•
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Basque Burnt Cheesecake<br><br><b>$180</b></p>
          <button class="add-btn"
                  data-name="Basque Burnt Cheesecake"
                  data-price="180"
                  data-img="./12.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 12 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./15.jpg" alt="" class="zoomable" data-img="./15.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Fluffy cake with tea and strawberries ‚Äî so pretty! ‚òÅÔ∏è
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Earl Grey Strawberry Chiffon Cake<br><b>$180</b></p>
          <button class="add-btn"
                  data-name="Earl Grey Strawberry Chiffon Cake"
                  data-price="180"
                  data-img="./15.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 13 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./17.jpg" alt="" class="zoomable" data-img="./17.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Soft cake roll with sweet cream ‚Äî yum yum! üç∞üíõ
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Salted Cream Roll Cake<br><br><b>$180</b></p>
          <button class="add-btn"
                  data-name="Salted Cream Roll Cake"
                  data-price="180"
                  data-img="./17.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 14 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./20.jpg" alt="" class="zoomable" data-img="./20.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Many thin cakes stacked tall ‚Äî like a yummy tower! üéÇüíö
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Pistachio Mille Crepe Cake<br><br><b>$250</b></p>
          <button class="add-btn"
                  data-name="Pistachio Mille Crepe Cake"
                  data-price="250"
                  data-img="./20.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 15 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./19.jpg" alt="" class="zoomable" data-img="./19.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Pink drink with mochi bits ‚Äî tastes like spring! üå∏ü•§
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Sakura Mochi Frappe<br><br><b>$100</b></p>
          <button class="add-btn"
                  data-name="Sakura Mochi Frappe"
                  data-price="100"
                  data-img="./19.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 16 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./21.jpg" alt="" class="zoomable" data-img="./21.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Crunchy top, buttery heart ‚Äî no pineapple, just happy! üßàüòÑ
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Hong Kong Style Butter Pineapple Bun<br><b>$130</b></p>
          <button class="add-btn"
                  data-name="Hong Kong Style Butter Pineapple Bun"
                  data-price="130"
                  data-img="./21.jpg">Add to Cart</button>
        </div>
      </div>
    </section>

    <!-- Beverage -->
    <section class="w3-row-padding" id="beverage">
      <!-- 17 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./14.jpg" alt="" class="zoomable" data-img="./14.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Sweet orange milk tea ‚Äî sip, smile, and happy! üß°
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Cha Yen<br><br><b>$95</b></p>
          <button class="add-btn"
                  data-name="Cha Yen"
                  data-price="95"
                  data-img="./14.jpg"
                  data-has-options="true">Add to Cart</button>
        </div>
      </div>

      <!-- 18 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./16.jpg" alt="" class="zoomable" data-img="./16.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Warm milk and brown sugar ‚Äî cozy and sweet! üçØ
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Brown Sugar Latte<br><br><b>$150</b></p>
          <button class="add-btn"
                  data-name="Brown Sugar Latte"
                  data-price="150"
                  data-img="./16.jpg"
                  data-has-options="true">Add to Cart</button>
        </div>
      </div>

      <!-- 19 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./13.jpg" alt="" class="zoomable" data-img="./13.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Peach and berry smoothie ‚Äî like a rainbow drink! üåàüçì
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Peach Berry Cream Frappe<br><br><b>$150</b></p>
          <button class="add-btn"
                  data-name="Peach Berry Cream Frappe"
                  data-price="150"
                  data-img="./13.jpg">Add to Cart</button>
        </div>
      </div>

      <!-- 20 -->
      <div class="w3-col l3 s6">
        <div class="w3-container">
          <div class="menu-card">
            <div class="menu-card-inner">
              <div class="card-front">
                <img src="./18.jpg" alt="" class="zoomable" data-img="./18.jpg">
                <div class="hover-card"><span>Click Me!</span></div>
              </div>
              <div class="card-back">
                Bubbly and tangy ‚Äî tickly and fun! ‚ú®üçØüçã
              </div>
            </div>
          </div>
          <button class="flip-btn">
            <i class="fa fa-refresh"></i> Flip card
          </button>
          <p>Honey Lime Sparkling Cooler<br><b>$130</b></p>
          <button class="add-btn"
                  data-name="Honey Lime Sparkling Cooler"
                  data-price="130"
                  data-img="./18.jpg"
                  data-has-options="true">Add to Cart</button>
        </div>
      </div>
    </section>

    <!-- Subscribe -->
    <div class="subscribe-section">
      <h2>Join our fun newsletter!</h2>
      <p>Get special offers and colorful surprises:</p>
      <input type="text" placeholder="Enter your e-mail">
    </div>

    <!-- Footer -->
    <footer class="w3-padding-64 w3-small" id="footer">
      <div class="w3-row-padding">
        <div class="w3-col s4">
          <h4>Contact</h4>
          <p>Questions? Go ahead.</p>
          <form action="#" target="_blank">
            <p><input class="w3-input w3-border" type="text" placeholder="Name" name="Field1"></p>
            <p><input class="w3-input w3-border" type="text" placeholder="Email" name="Field2"></p>
            <p><input class="w3-input w3-border" type="text" placeholder="Subject" name="Field3"></p>
            <p><input class="w3-input w3-border" type="text" placeholder="Message" name="Field4"></p>
            <button type="submit" class="w3-button w3-block w3-black">Send</button>
          </form>
        </div>

        <div class="w3-col s4">
          <h4>About</h4>
          <p><a href="#">About us</a></p>
          <p><a href="#">We're hiring</a></p>
          <p><a href="#">Support</a></p>
          <p><a href="#">Find store</a></p>
          <p><a href="#">Shipment</a></p>
          <p><a href="#">Payment</a></p>
          <p><a href="#">Gift card</a></p>
          <p><a href="#">Return</a></p>
          <p><a href="#">Help</a></p>
        </div>

        <div class="w3-col s4">
          <h4>Store</h4>
          <p><i class="fa fa-fw fa-map-marker"></i> Company Name</p>
          <p><i class="fa fa-fw fa-phone"></i> 0044123123</p>
          <p><i class="fa fa-fw fa-envelope"></i> ex@mail.com</p>

          <h4>We accept</h4>
          <p><i class="fa fa-fw fa-cc-amex"></i> Amex</p>
          <p><i class="fa fa-fw fa-credit-card"></i> Credit Card</p>

          <br>

          <i class="fa fa-facebook-official w3-hover-opacity w3-large"></i>
          <i class="fa fa-instagram w3-hover-opacity w3-large"></i>
          <i class="fa fa-snapchat w3-hover-opacity w3-large"></i>
          <i class="fa fa-pinterest-p w3-hover-opacity w3-large"></i>
          <i class="fa fa-linkedin w3-hover-opacity w3-large"></i>
        </div>
      </div>
    </footer>

    <div class="w3-black w3-center w3-padding-24">
      Powered by <a href="https://www.w3schools.com/w3css/default.asp" class="w3-hover-opacity">w3.css</a>
    </div>
  </div> <!-- end .w3-main -->

  <!-- Back to Top Button -->
  <button id="backToTop" title="Go to top">
    <i class="fa fa-arrow-up"></i>
  </button>

  <!-- Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-line">
        <div class="progress-line-fill" id="progressFill"></div>
      </div>
      <div class="progress-step">
        <div class="rocket-icon active" id="step1">üöÄ</div>
        <div class="step-label active">order</div>
      </div>
      <div class="progress-step">
        <div class="rocket-icon" id="step2">üöÄ</div>
        <div class="step-label">confirm</div>
      </div>
      <div class="progress-step">
        <div class="rocket-icon" id="step3">üöÄ</div>
        <div class="step-label">checkout</div>
      </div>
      <div class="progress-step">
        <div class="rocket-icon" id="step4">üöÄ</div>
        <div class="step-label">finish</div>
      </div>
    </div>
  </div>

  <!-- Note Modal -->
  <div id="noteModal">
    <h3 style="margin-top:0;">Add Note</h3>
    <div class="option-group" style="margin-bottom:10px;">
      <label>Ice Level:</label><br>
      <input type="radio" name="ice1" value="Normal" checked> Regular
      <input type="radio" name="ice1" value="Less"> Less
      <input type="radio" name="ice1" value="No Ice"> No Ice
    </div>
    <div class="option-group" style="margin-bottom:10px;">
      <label>Sugar Level:</label><br>
      <input type="radio" name="sugar1" value="Normal" checked> Regular
      <input type="radio" name="sugar1" value="Half"> Half
      <input type="radio" name="sugar1" value="Less"> Less
      <input type="radio" name="sugar1" value="No Sugar"> No Sugar
    </div>
    <textarea id="noteText" placeholder="Enter note..."></textarea><br><br>
    <button class="add-btn" id="confirmAdd">Add</button>
    <button class="cancel-btn" id="cancelAdd">Cancel</button>
  </div>

  <!-- Cart Modal -->
  <div id="cartModal">
    <h3>Your Cart</h3>
    <div id="cartList"></div>
    <div class="cart-actions">
      <button class="cancel-btn" id="closeCart">Close</button>
      <button class="confirm-btn" id="confirmCart">Confirm</button>
    </div>
  </div>
  

  <!-- Checkout Modal -->
  <div id="checkoutModal">
    <div class="checkout-header">
      <h3>üí≥ Checkout</h3>
    </div>
    <div class="checkout-content">
      <div class="checkout-section">
        <h4>üìã Order Summary</h4>
        <div id="checkoutItemsList"></div>
      </div>
      <div class="checkout-section">
        <h4>üí∞ Payment Details</h4>
        <div class="price-row total-row">
          <span>Total:</span>
          <span id="totalAmount">$0</span>
        </div>
      </div>
      <div class="checkout-section">
        <h4>üí≥ Payment Method</h4>
        <div class="payment-methods">
          <label class="payment-option">
            <input type="radio" name="payment" value="credit" checked>
            <div class="payment-card">
              <i class="fa fa-credit-card"></i>
              <span>Credit Card</span>
            </div>
          </label>
          <label class="payment-option">
            <input type="radio" name="payment" value="cash">
            <div class="payment-card">
              <i class="fa fa-money"></i>
              <span>Cash</span>
            </div>
          </label>
        </div>
      </div>
    </div>
    <div class="checkout-buttons">
      <button class="cancel-btn" id="backToCart">‚Üê Back</button>
      <button class="confirm-btn" id="payBtn">Confirm Payment</button>
    </div>
  </div>

  <!-- LightboxÔºöÊîæÂ§ßÈ£üÁâ©ÁÖßÁâá -->
  <div id="lightbox" class="lightbox" style="display:none;">
    <span class="close">&times;</span>
    <img id="lightbox-img" src="" alt="">
  </div>

  <script>
    // Sidebar & menu
    function myAccFunc() {
      var x = document.getElementById("demoAcc");
      if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
      } else {
        x.className = x.className.replace(" w3-show", "");
      }
    }
    function w3_open() {
      document.getElementById("mySidebar").style.display = "block";
      document.getElementById("myOverlay").style.display = "block";
    }
    function w3_close() {
      document.getElementById("mySidebar").style.display = "none";
      document.getElementById("myOverlay").style.display = "none";
    }

    // Greeting
    function enterGreeting() {
      var greet1 = document.getElementById("greeting1");
      var greet2 = document.getElementById("welcome");
      var greet  = document.getElementById("greeting");
      var now = new Date().getHours();

      if (now >= 5 && now < 12) {
        greet1.textContent = "Good Morning!";
        greet2.textContent = "Welcome to our restaurant!";
        greet.style.background="#f0e680";
      } else if (now >= 12 && now < 17) {
        greet1.textContent = "Good Afternoon!";
        greet2.textContent = "Welcome to our restaurant!";
      } else if (now >= 17 && now < 22) {
        greet1.textContent = "Good Evening!";
        greet2.textContent = "Welcome to our restaurant!";
        greet.style.background="#ffe4b5";
      } else {
        greet1.textContent = "Time to sleep!";
        greet2.textContent = "See you tomorrow!";
        greet.style.background="#21416e";
      }
    }
    function enter() {
      document.getElementById("greeting").style.display="none";
    }

    // Progress bar
    let currentStep = 1;
    function updateProgressBar(step) {
      currentStep = step;
      const steps = [
        { icon: document.getElementById("step1"), label: document.querySelector(".progress-step:nth-child(2) .step-label") },
        { icon: document.getElementById("step2"), label: document.querySelector(".progress-step:nth-child(3) .step-label") },
        { icon: document.getElementById("step3"), label: document.querySelector(".progress-step:nth-child(4) .step-label") },
        { icon: document.getElementById("step4"), label: document.querySelector(".progress-step:nth-child(5) .step-label") },
      ];
      const progressFill = document.getElementById("progressFill");
      progressFill.style.width = ((step - 1) / 3 * 100) + "%";

      steps.forEach((s, i) => {
        s.icon.classList.remove("active", "completed");
        s.label.classList.remove("active", "completed");
        if (i + 1 < step) {
          s.icon.classList.add("completed");
          s.label.classList.add("completed");
        } else if (i + 1 === step) {
          s.icon.classList.add("active");
          s.label.classList.add("active");
        }
      });
    }

    // Cart & checkout
    let cart = [];
    let selectedItem = null;
    let editingIndex = null;

    const addButtons = document.querySelectorAll(".w3-row-padding .add-btn");
    const noteModal = document.getElementById("noteModal");
    const cartModal = document.getElementById("cartModal");
    const checkoutModal = document.getElementById("checkoutModal");
    const cartList = document.getElementById("cartList");
    const cartCountBadge = document.getElementById("cartCountBadge");

    const confirmAddBtn = document.getElementById("confirmAdd");
    const cancelAddBtn = document.getElementById("cancelAdd");
    const cartIcon = document.getElementById("cartIcon");
    const closeCartBtn = document.getElementById("closeCart");
    const confirmCartBtn = document.getElementById("confirmCart");
    const backToCartBtn = document.getElementById("backToCart");
    const payBtn = document.getElementById("payBtn");

    // Add to cart: open note modal
addButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    selectedItem = {
      name: btn.dataset.name,
      price: btn.dataset.price,
      img: btn.dataset.img,
      hasOptions: btn.dataset.hasOptions === "true"
    };

    //‚úÖ ‰∏ÄÂÆöÊòØÊñ∞Â¢ûÔºå‰∏çÊòØÁ∑®ËºØ
    editingIndex = null;

    const groups = noteModal.querySelectorAll('.option-group');
    const iceGroup = groups[0];
    const sugarGroup = groups[1];

    if (selectedItem.hasOptions) {
      iceGroup.style.display = "block";
      sugarGroup.style.display = "block";

      // È†êË®≠ÈÅ∏Âõû Regular
      noteModal.querySelectorAll('input[name="ice1"]').forEach(r => r.checked = (r.value === "Normal"));
      noteModal.querySelectorAll('input[name="sugar1"]').forEach(r => r.checked = (r.value === "Normal"));

    } else {
      iceGroup.style.display = "none";
      sugarGroup.style.display = "none";
    }
    document.getElementById("noteText").value = "";
    noteModal.style.display = "block";
  });
});

    // Confirm add item
    confirmAddBtn.addEventListener("click", () => {
      const note = document.getElementById("noteText").value;
      let ice = "", sugar = "";
      if (selectedItem && selectedItem.hasOptions) {
        const iceInput = noteModal.querySelector('input[name="ice1"]:checked');
        const sugarInput = noteModal.querySelector('input[name="sugar1"]:checked');
        if (iceInput) ice = iceInput.value;
        if (sugarInput) sugar = sugarInput.value;
      }

      if (selectedItem) {
        if (editingIndex !== null) {
          cart[editingIndex] = {
            ...selectedItem,
            note,
            ice,
            sugar,
            quantity: cart[editingIndex].quantity
          };
          editingIndex = null;
        } else {
          cart.push({ ...selectedItem, note, ice, sugar, quantity: 1 });
        }
        cartCountBadge.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
      }
      document.getElementById("noteText").value = "";
      noteModal.style.display = "none";
      updateProgressBar(1);
    });

    // Cancel add
    cancelAddBtn.addEventListener("click", () => {
      document.getElementById("noteText").value = "";
      noteModal.style.display = "none";
    });

    // Render cart
    function renderCart() {
      cartList.innerHTML = "";
      cart.forEach((item, index) => {
        const div = document.createElement("div");
        div.classList.add("cart-item");

        let optionsHTML = '';
        if (item.hasOptions && item.ice && item.sugar) {
          optionsHTML = `Ice: ${item.ice}<br>Sugar: ${item.sugar}<br>`;
        }
        let noteHTML = item.note ? `Note: ${item.note}` : '';

        div.innerHTML = `
  <img src="${item.img}">
  <div class="cart-item-info">
    <b>${item.name}</b><br>
    $${item.price} √ó ${item.quantity}<br>
    ${optionsHTML}
    ${noteHTML}
  </div>
  <div class="cart-item-controls">
    <button class="qty-btn minus-btn" data-index="${index}">‚àí</button>
    <span class="qty-display">${item.quantity}</span>
    <button class="qty-btn plus-btn" data-index="${index}">+</button>
    <button class="edit-note-btn" data-index="${index}">edit</button>
    <button class="remove-btn" data-index="${index}">delete</button>
  </div>
`;

        cartList.appendChild(div);
      });
    }

    // Open cart
    cartIcon.addEventListener("click", () => {
      renderCart();
      cartModal.style.display = "block";
      updateProgressBar(2);
    });

    cartList.addEventListener("click", (e) => {
  const index = parseInt(e.target.dataset.index, 10);
  if (Number.isNaN(index)) return;

  if (e.target.classList.contains("remove-btn")) {
    // Âà™Èô§
    cart.splice(index, 1);

  } else if (e.target.classList.contains("plus-btn")) {
    // + Êï∏Èáè
    cart[index].quantity++;

  } else if (e.target.classList.contains("minus-btn")) {
    // - Êï∏Èáè
    if (cart[index].quantity > 1) {
      cart[index].quantity--;
    } else {
      cart.splice(index, 1);
    }

  } else if (e.target.classList.contains("edit-note-btn")) {
    // ‚úÖ Á∑®ËºØÂÇôË®ª
    const item = cart[index];
    selectedItem = {
      name: item.name,
      price: item.price,
      img: item.img,
      hasOptions: item.hasOptions
    };
    editingIndex = index; // ÂëäË®¥ confirmAddÔºöÈÄôÊòØÁ∑®ËºØ‰∏çÊòØÊñ∞Â¢û

    const groups = noteModal.querySelectorAll('.option-group');
    const iceGroup = groups[0];
    const sugarGroup = groups[1];

    if (item.hasOptions) {
      iceGroup.style.display = "block";
      sugarGroup.style.display = "block";

      // ÂÖàÂÖ®ÈÉ®ÂèñÊ∂àÂãæÈÅ∏
      noteModal.querySelectorAll('input[name="ice1"]').forEach(r => r.checked = false);
      noteModal.querySelectorAll('input[name="sugar1"]').forEach(r => r.checked = false);

      // ÂÜçÂãæÁõÆÂâçÁöÑÈÅ∏È†ÖÔºàÂ¶ÇÊûúÊúâÔºâ
      if (item.ice) {
        const iceRadio = noteModal.querySelector(`input[name="ice1"][value="${item.ice}"]`);
        if (iceRadio) iceRadio.checked = true;
      }
      if (item.sugar) {
        const sugarRadio = noteModal.querySelector(`input[name="sugar1"][value="${item.sugar}"]`);
        if (sugarRadio) sugarRadio.checked = true;
      }
    } else {
      iceGroup.style.display = "none";
      sugarGroup.style.display = "none";
    }

    // Â∏∂ÂÖ•ÂéüÊú¨ÂÇôË®ª
    document.getElementById("noteText").value = item.note || "";

    // ÊâìÈñã modal
    noteModal.style.display = "block";
    return; // ‰∏ãÈù¢ÁöÑ renderCart Â∞±ÂÖà‰∏çË¶ÅÂü∑Ë°å
  }

  cartCountBadge.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
  renderCart();
});


    // Close cart
    closeCartBtn.addEventListener("click", () => {
      cartModal.style.display = "none";
      updateProgressBar(1);
    });

    // Cart Confirm ‚Üí go to checkout
    confirmCartBtn.addEventListener("click", () => {
      if (cart.length === 0) {
        alert("Your cart is empty!");
        return;
      }
      renderCheckout();
      cartModal.style.display = "none";
      checkoutModal.style.display = "block";
      updateProgressBar(3);
    });

    // Render checkout
    function renderCheckout() {
      const checkoutItemsList = document.getElementById("checkoutItemsList");
      checkoutItemsList.innerHTML = "";
      let subtotal = 0;

      cart.forEach(item => {
        const itemTotal = parseInt(item.price) * item.quantity;
        subtotal += itemTotal;

        const div = document.createElement("div");
        div.classList.add("checkout-item");

        let optionsText = '';
        if (item.hasOptions && item.ice && item.sugar) {
          optionsText = `<div class="item-options">Ice: ${item.ice} | Sugar: ${item.sugar}</div>`;
        }
        let noteText = '';
        if (item.note) {
          noteText = `<div class="item-note">Note: ${item.note}</div>`;
        }

        div.innerHTML = `
          <div class="checkout-item-main">
            <div class="checkout-item-name">${item.name}</div>
            <div class="checkout-item-details">
              $${item.price} √ó ${item.quantity}
              ${optionsText}
              ${noteText}
            </div>
          </div>
          <div class="checkout-item-price">$${itemTotal}</div>
        `;
        checkoutItemsList.appendChild(div);
      });

      document.getElementById("totalAmount").textContent = `$${subtotal}`;
    }

    // Checkout Back
    backToCartBtn.addEventListener("click", () => {
      checkoutModal.style.display = "none";
      cartModal.style.display = "block";
      updateProgressBar(2);
    });

    // Âú® test.php ‰∏≠ÊâæÂà∞ payBtn.addEventListener ÈÄôÊÆµÁ®ãÂºèÁ¢º
// ÊõøÊèõÊàê‰ª•‰∏ãÂÖßÂÆπÔºö

// Checkout Pay - Êèê‰∫§Ë®ÇÂñÆÂà∞Ë≥áÊñôÂ∫´
payBtn.addEventListener("click", async () => {
  const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
  const methodText = paymentMethod === 'credit' ? 'Credit Card' : 'Cash';
  const total = document.getElementById("totalAmount").textContent;

  // Ê™¢Êü•Ë≥ºÁâ©ËªäÊòØÂê¶ÁÇ∫Á©∫
  if (cart.length === 0) {
    alert("Ë≥ºÁâ©ËªäÊòØÁ©∫ÁöÑÔºÅ");
    return;
  }

  // Ë©¢ÂïèÂÆ¢Êà∂ÂßìÂêç
  const customerName = prompt("Ë´ãËº∏ÂÖ•ÊÇ®ÁöÑÂßìÂêçÔºö");
  
  if (!customerName || customerName.trim() === "") {
    alert("Ë´ãËº∏ÂÖ•ÊúâÊïàÁöÑÂßìÂêçÔºÅ");
    return;
  }

  // Ê∫ñÂÇôË®ÇÂñÆË≥áÊñô
  const orderData = {
    name: customerName.trim(),
    items: cart.map(item => ({
      name: item.name,
      price: item.price,
      quantity: item.quantity,
      ice: item.ice || '',
      sugar: item.sugar || '',
      note: item.note || ''
    })),
    payment_method: methodText
  };

  // È°ØÁ§∫ËºâÂÖ•‰∏≠
  payBtn.disabled = true;
  payBtn.textContent = "ËôïÁêÜ‰∏≠...";

  try {
    // ÁôºÈÄÅ AJAX Ë´ãÊ±ÇÂà∞ÂæåÁ´Ø
    const response = await fetch('submit_order.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(orderData)
    });

    const result = await response.json();

    if (result.success) {
      updateProgressBar(4);
      
      setTimeout(() => {
        alert(
          `‰ªòÊ¨æÊàêÂäüÔºÅ üéâ\n\n` +
          `Ë®ÇÂñÆÁ∑®ËôüÔºö${result.order_id}\n` +
          `ÂÆ¢Êà∂ÂßìÂêçÔºö${customerName}\n` +
          `‰ªòÊ¨æÊñπÂºèÔºö${methodText}\n` +
          `Á∏ΩÈáëÈ°çÔºö${total}\n\n` +
          `ÊÑüË¨ùÊÇ®ÁöÑÂÖâËá®ÔºÅ`
        );
        
        // Ê∏ÖÁ©∫Ë≥ºÁâ©Ëªä
        cart = [];
        renderCart();
        cartCountBadge.textContent = 0;
        checkoutModal.style.display = "none";
        updateProgressBar(1);
        
        // ÊÅ¢Âæ©ÊåâÈàïÁãÄÊÖã
        payBtn.disabled = false;
        payBtn.textContent = "Confirm Payment";
      }, 300);
      
    } else {
      alert(`Ë®ÇÂñÆÊèê‰∫§Â§±ÊïóÔºö${result.message}`);
      payBtn.disabled = false;
      payBtn.textContent = "Confirm Payment";
    }
    
  } catch (error) {
    console.error('ÈåØË™§Ôºö', error);
    alert(`ÁôºÁîüÈåØË™§Ôºö${error.message}\nË´ãÊ™¢Êü•Á∂≤Ë∑ØÈÄ£Á∑öÊàñËÅØÁπ´ÂÆ¢Êúç„ÄÇ`);
    payBtn.disabled = false;
    payBtn.textContent = "Confirm Payment";
  }
});

    // Flip cardsÔºöÁî®ÊåâÈàïÊéßÂà∂ÁøªÈù¢ÔºåÈªûËÉåÈù¢ÁøªÂõû‰æÜ
    const menuCards = document.querySelectorAll('.menu-card');
    menuCards.forEach(card => {
      const cardBack = card.querySelector('.card-back');
      if (cardBack) {
        cardBack.addEventListener('click', () => {
          card.classList.remove('flipped');
        });
      }
    });

    // Flip ÊåâÈàï
    document.querySelectorAll('.flip-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const container = btn.closest('.w3-container');
        if (!container) return;
        const card = container.querySelector('.menu-card');
        if (!card) return;
        card.classList.toggle('flipped');
      });
    });

    // Back to top button
    const backToTopBtn = document.getElementById("backToTop");
    window.addEventListener("scroll", () => {
      if (window.pageYOffset > 300) {
        backToTopBtn.classList.add("show");
      } else {
        backToTopBtn.classList.remove("show");
      }
    });
    backToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // Search Bar
    const header = document.querySelector(".w3-main header");
    const searchIcon = document.getElementById("searchIcon");

    const searchWrapper = document.createElement("div");
    searchWrapper.style.position = "absolute";
    searchWrapper.style.top = "20px";
    searchWrapper.style.right = "60px";
    searchWrapper.style.display = "none";
    searchWrapper.style.alignItems = "center";
    searchWrapper.style.background = "white";
    searchWrapper.style.border = "3px solid gold";
    searchWrapper.style.borderRadius = "12px";
    searchWrapper.style.padding = "8px";
    searchWrapper.style.boxShadow = "0 4px 10px rgba(0,0,0,0.2)";
    searchWrapper.style.zIndex = "999";

    searchWrapper.innerHTML = `
      <input type="text" id="keywordInput" placeholder="Search foods..."
        style="padding:6px 8px;font-size:15px;border-radius:8px;border:2px solid gold;width:180px;">
      <button id="searchBtn" style="background:linear-gradient(45deg,#FFD700,#FF9AA2);border:none;
        color:white;padding:6px 10px;border-radius:8px;margin-left:6px;cursor:pointer;">Go</button>
      <button id="closeSearch" style="background:none;border:none;color:gray;font-size:18px;
        margin-left:6px;cursor:pointer;">‚ùå</button>
      <span id="searchResultMsg" style="font-size:14px;color:#FF69B4;margin-left:8px;"></span>
    `;
    header.appendChild(searchWrapper);

    searchIcon.addEventListener("click", () => {
      if (searchWrapper.style.display === "none") {
        searchWrapper.style.display = "flex";
        document.getElementById("keywordInput").focus();
      } else {
        searchWrapper.style.display = "none";
      }
    });

    document.getElementById("closeSearch").addEventListener("click", () => {
      searchWrapper.style.display = "none";
      document.getElementById("keywordInput").value = "";
      document.getElementById("searchResultMsg").textContent = "";

      document.querySelectorAll("section.w3-row-padding .w3-container > p:first-of-type").forEach(p => {
        p.innerHTML = p.textContent;
      });
    });

    function searchKeyword() {
      const keyword = document.getElementById("keywordInput").value.trim();
      const resultMsg = document.getElementById("searchResultMsg");
      resultMsg.textContent = "";

      const items = document.querySelectorAll("section.w3-row-padding .w3-container > p:first-of-type");
      items.forEach(p => {
        p.innerHTML = p.textContent;
      });

      if (!keyword) return;

      const regex = new RegExp(`(${keyword})`, "gi");
      let matchCount = 0;
      let firstMatch = null;

      items.forEach(p => {
        const text = p.textContent;
        if (text.match(regex)) {
          matchCount++;
          p.innerHTML = text.replace(regex, `<mark style="background-color:yellow;">$1</mark>`);
          if (!firstMatch) firstMatch = p;
        }
      });

      if (matchCount > 0) {
        resultMsg.textContent = `Found ${matchCount} result${matchCount > 1 ? 's' : ''}`;
        firstMatch.scrollIntoView({ behavior: "smooth", block: "center" });
      } else {
        resultMsg.textContent = "No match found.";
      }
    }

    document.getElementById("searchBtn").addEventListener("click", searchKeyword);
    document.addEventListener("keydown", e => {
      if (e.key === "Enter" && searchWrapper.style.display === "flex") {
        searchKeyword();
      }
      if (e.key === "Escape" && searchWrapper.style.display === "flex") {
        searchWrapper.style.display = "none";
        document.getElementById("keywordInput").value = "";
        document.getElementById("searchResultMsg").textContent = "";
      }
    });

    // üéÆ Game intro logic
    function initGameIntro() {
      const intro = document.getElementById("gameIntro");
      if (!intro) return;

      const playfield = document.getElementById("giPlayfield");
      const player = document.getElementById("giPlayer");
      const scoreText = document.getElementById("giScoreText");
      const timeText = document.getElementById("giTimeText");
      const progressFill = document.getElementById("giProgressFill");
      const clearOverlay = document.getElementById("giClearOverlay");
      const failOverlay = document.getElementById("giFailOverlay");

      const startBtn = document.getElementById("giStartBtn");
      const startBtnMobile = document.getElementById("giStartBtnMobile");
      const skipBtn = document.getElementById("giSkipBtn");
      const retryBtn = document.getElementById("giRetryBtn");
      const failSkipBtn = document.getElementById("giFailSkipBtn");

      let playerX = 50;
      let moveLeft = false;
      let moveRight = false;
      const leftBtn = document.getElementById("giLeftBtn");
      const rightBtn = document.getElementById("giRightBtn");

      const targetScore = 8;
      let score = 0;
      let timeLeft = 20;

      let foods = [];
      let spawnInterval = null;
      let gameLoopInterval = null;
      let timerInterval = null;
      let playing = false;

      const foodEmojis = ["üçï","üçì","ü•§","üç∞","üçü","üåÆ","üç©","üçú"];

      function setPlayerPosition() {
        player.style.left = playerX + "%";
      }

      function spawnFood() {
        const food = document.createElement("div");
        food.className = "gi-food";
        const emoji = foodEmojis[Math.floor(Math.random() * foodEmojis.length)];
        food.textContent = emoji;

        const startX = 10 + Math.random() * 80;
        food.style.left = startX + "%";
        food.style.top = "-10%";

        playfield.appendChild(food);
        foods.push({ el: food, y: -10, speed: 0.5 + Math.random() * 1.2 });
      }

      function rectsOverlap(r1, r2) {
        return !(
          r1.right < r2.left ||
          r1.left > r2.right ||
          r1.bottom < r2.top ||
          r1.top > r2.bottom
        );
      }

      function updateGame() {
        if (moveLeft) playerX -= 1.7;
        if (moveRight) playerX += 1.7;
        if (playerX < 5) playerX = 5;
        if (playerX > 95) playerX = 95;
        setPlayerPosition();

        const playerRect = player.getBoundingClientRect();

        foods.forEach((f, index) => {
          f.y += f.speed;
          f.el.style.top = f.y + "%";

          const foodRect = f.el.getBoundingClientRect();
          if (rectsOverlap(playerRect, foodRect)) {
            score++;
            if (score > targetScore) score = targetScore;
            scoreText.textContent = `${score} / ${targetScore}`;
            const percent = (score / targetScore) * 100;
            progressFill.style.width = percent + "%";

            f.el.classList.add("gi-food-pop");
            setTimeout(() => f.el.remove(), 200);
            foods.splice(index, 1);
          }

          if (f.y > 120) {
            f.el.remove();
            foods.splice(index, 1);
          }
        });

        if (score >= targetScore) {
          endGame(true);
        }
      }

      function updateTimer() {
        timeLeft--;
        if (timeLeft < 0) timeLeft = 0;
        timeText.textContent = timeLeft + "s";
        if (timeLeft <= 0) {
          endGame(false);
        }
      }

      function startGame() {
        if (playing) return;
        playing = true;
        score = 0;
        timeLeft = 20;
        scoreText.textContent = `0 / ${targetScore}`;
        timeText.textContent = timeLeft + "s";
        progressFill.style.width = "0%";

        foods.forEach(f => f.el.remove());
        foods = [];

        clearOverlay.classList.remove("gi-show");
        failOverlay.classList.remove("gi-show");

        spawnInterval = setInterval(spawnFood, 600);
        gameLoopInterval = setInterval(updateGame, 20);
        timerInterval = setInterval(updateTimer, 1000);
      }

      function stopAllTimers() {
        if (spawnInterval) clearInterval(spawnInterval);
        if (gameLoopInterval) clearInterval(gameLoopInterval);
        if (timerInterval) clearInterval(timerInterval);
        spawnInterval = gameLoopInterval = timerInterval = null;
      }

      function endGame(success) {
        if (!playing) return;
        playing = false;
        stopAllTimers();

        if (success) {
          clearOverlay.classList.add("gi-show");
          setTimeout(() => {
            intro.classList.add("gi-fadeout");
            setTimeout(() => {
              intro.remove();
              document.body.style.overflow = "auto";
            }, 800);
          }, 1300);
        } else {
          failOverlay.classList.add("gi-show");
        }
      }

      function skipIntro() {
        stopAllTimers();
        intro.classList.add("gi-fadeout");
        setTimeout(() => {
          intro.remove();
          document.body.style.overflow = "auto";
        }, 600);
      }

      // üì± Ëß∏Êéß / ÊªëÈº†ÊéßÂà∂ÔºàÁµ¶Â∞èËû¢ÂπïÁî®Ôºâ
      if (leftBtn && rightBtn) {
        const startLeft = (e) => {
          e.preventDefault();
          moveLeft = true;
          moveRight = false;
        };
        const endLeft = (e) => {
          e.preventDefault();
          moveLeft = false;
        };

        const startRight = (e) => {
          e.preventDefault();
          moveRight = true;
          moveLeft = false;
        };
        const endRight = (e) => {
          e.preventDefault();
          moveRight = false;
        };

        // Â∑¶ÈÇäÊåâÈàï
        leftBtn.addEventListener("touchstart", startLeft);
        leftBtn.addEventListener("touchend", endLeft);
        leftBtn.addEventListener("touchcancel", endLeft);
        leftBtn.addEventListener("mousedown", startLeft);
        leftBtn.addEventListener("mouseup", endLeft);
        leftBtn.addEventListener("mouseleave", endLeft);

        // Âè≥ÈÇäÊåâÈàï
        rightBtn.addEventListener("touchstart", startRight);
        rightBtn.addEventListener("touchend", endRight);
        rightBtn.addEventListener("touchcancel", endRight);
        rightBtn.addEventListener("mousedown", startRight);
        rightBtn.addEventListener("mouseup", endRight);
        rightBtn.addEventListener("mouseleave", endRight);
      }

      document.addEventListener("keydown", e => {
        if (e.key === "ArrowLeft" || e.key === "a" || e.key === "A") {
          moveLeft = true;
        }
        if (e.key === "ArrowRight" || e.key === "d" || e.key === "D") {
          moveRight = true;
        }
      });

      document.addEventListener("keyup", e => {
        if (e.key === "ArrowLeft" || e.key === "a" || e.key === "A") {
          moveLeft = false;
        }
        if (e.key === "ArrowRight" || e.key === "d" || e.key === "D") {
          moveRight = false;
        }
      });

      // Ê°åÊ©üÁâà START
      if (startBtn) startBtn.addEventListener("click", startGame);
      // ÊâãÊ©üÁâà START
      if (startBtnMobile) startBtnMobile.addEventListener("click", startGame);

      skipBtn.addEventListener("click", skipIntro);
      if (retryBtn) retryBtn.addEventListener("click", () => {
        failOverlay.classList.remove("gi-show");
        startGame();
      });
      if (failSkipBtn) failSkipBtn.addEventListener("click", skipIntro);

      document.body.style.overflow = "hidden";
      setPlayerPosition();
    }

    // Login Box (JS)
    function initLoginBox() {
  const loginForm = document.getElementById("loginForm");
  const accInput = document.getElementById("accInput");
  const pwdInput = document.getElementById("pwdInput");
  const msg = document.getElementById("loginMsg");

  if (!loginForm) return;

  loginForm.addEventListener("submit", function(e) {
    const acc = accInput.value.trim();
    const pwd = pwdInput.value.trim();

    // ‚ùóÂè™ÊúâÊ≤íÂ°´ÊâçÊìã
    if (acc === "" || pwd === "") {
      e.preventDefault();
      msg.style.color = "red";
      msg.textContent = "Please enter both account and password ‚ùå";
    }
    // ‚úÖ ÊúâÂ°´ ‚Üí ‰∏çÊìã ‚Üí Ë°®ÂñÆÊúÉÈÄÅÂà∞ PHP
  });
}

    // LightboxÔºöÁÖßÁâáÊîæÂ§ßÈÇèËºØ
    function initLightbox() {
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightbox-img');
      const lightboxClose = document.querySelector('#lightbox .close');
      if (!lightbox || !lightboxImg || !lightboxClose) return;

      document.querySelectorAll('.zoomable').forEach(img => {
        img.addEventListener('click', function(e){
          e.stopPropagation();
          const src = this.getAttribute('data-img') || this.src;
          lightboxImg.src = src;
          lightbox.style.display = 'flex';
        });
      });

      lightboxClose.addEventListener('click', function(){
        lightbox.style.display = 'none';
      });

      lightbox.addEventListener('click', function(e){
        if(e.target === lightbox){
          lightbox.style.display = 'none';
        }
      });
    }

    window.onload = function() {
      document.getElementById("myBtn").click();
      document.getElementById("enter").onclick = enter;
      enterGreeting();
      initGameIntro();
      initLoginBox();
      initLightbox();
    };
  </script>
</body>
</html>
